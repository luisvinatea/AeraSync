const CACHE_NAME="aerasync-mobile-v1",ASSETS=["/","/index.html","/manifest.json","/js/main.js","/css/main.css","/icons/favicon.webp","/icons/watermark.webp","/icons/aerasync180.png","/icons/aerasync.webp"];self.addEventListener("install",(e=>{e.waitUntil(caches.open(CACHE_NAME).then((e=>e.addAll(ASSETS))).then((()=>self.skipWaiting())))})),self.addEventListener("activate",(e=>{e.waitUntil(caches.keys().then((e=>Promise.all(e.map((e=>{if(e!==CACHE_NAME)return caches.delete(e)}))))).then((()=>self.clients.claim())))})),self.addEventListener("fetch",(e=>{e.respondWith(fetch(e.request).then((s=>{const t=s.clone();return caches.open(CACHE_NAME).then((s=>{"GET"===e.request.method&&(e.request.url.includes("/js/")||e.request.url.includes("/css/")||e.request.url.includes("/icons/"))&&s.put(e.request,t)})),s})).catch((()=>caches.match(e.request).then((s=>s||("navigate"===e.request.mode?caches.match("/index.html"):new Response("Network error",{status:408,headers:{"Content-Type":"text/plain"}})))))))}));