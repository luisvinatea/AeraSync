<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta
      name="description"
      content="AeraSync Mobile: Compare aerators for shrimp farming with a step-by-step survey and view ranked results."
    />
    <meta name="theme-color" content="#1E40AF" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="format-detection" content="telephone=no" />
    <title>AeraSync</title>
    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" type="image/webp" href="/icons/favicon.webp" />
    <link rel="apple-touch-icon" href="/icons/icon-192.png" />
  </head>
  <body>
    <div id="loading-screen">
      <div class="spinner"></div>
    </div>

    <div class="app">
      <header>
        <h1>AeraSync</h1>
        <div id="language-toggle">EN</div>
      </header>

      <main>
        <!-- Home Page -->
        <div id="home-page" class="page">
          <div class="hero">
            <img
              src="/icons/logo.webp"
              alt="AeraSync Logo"
              width="120"
              height="120"
            />
            <h2>Welcome to AeraSync</h2>
            <p>
              Compare aerators for shrimp farming with a step-by-step survey and
              view ranked results.
            </p>
            <button class="cta-button" data-nav="survey">
              Start Comparison
            </button>
          </div>
        </div>

        <!-- Survey Page -->
        <div id="survey-page" class="page">
          <h2>Aerator Comparison Survey</h2>
          <div class="progress-container">
            <div class="progress-bar" style="width: 25%"></div>
          </div>

          <form id="survey-form" class="survey-container">
            <!-- Step 1: Basic Information -->
            <div class="survey-step" data-step="1">
              <h3>Basic Information</h3>
              <div class="form-group">
                <label for="pond_area">Pond Area (hectares)</label>
                <input
                  type="number"
                  id="pond_area"
                  name="pond_area"
                  class="form-control"
                  required
                  step="0.1"
                  min="0.1"
                />
                <div class="error-message">Please enter a valid pond area.</div>
              </div>
              <div class="form-group">
                <label for="aeration_rate">Aeration Rate (HP/ha)</label>
                <input
                  type="number"
                  id="aeration_rate"
                  name="aeration_rate"
                  class="form-control"
                  required
                  step="0.1"
                  min="0.1"
                />
                <div class="error-message">
                  Please enter a valid aeration rate.
                </div>
              </div>
            </div>

            <!-- Step 2: Farm Details -->
            <div class="survey-step" data-step="2">
              <h3>Farm Details</h3>
              <div class="form-group">
                <label for="stocking_density">Stocking Density (PL/m²)</label>
                <input
                  type="number"
                  id="stocking_density"
                  name="stocking_density"
                  class="form-control"
                  required
                  step="1"
                  min="1"
                />
              </div>
              <div class="form-group">
                <label for="cultivation_days">Cultivation Days</label>
                <input
                  type="number"
                  id="cultivation_days"
                  name="cultivation_days"
                  class="form-control"
                  required
                  min="30"
                  max="200"
                />
              </div>
            </div>

            <!-- Step 3: Power Source -->
            <div class="survey-step" data-step="3">
              <h3>Power Source</h3>
              <div class="form-group">
                <label for="energy_source">Energy Source</label>
                <select
                  id="energy_source"
                  name="energy_source"
                  class="form-control"
                  required
                >
                  <option value="">Select an option</option>
                  <option value="electricity">Electricity</option>
                  <option value="diesel">Diesel</option>
                  <option value="solar">Solar</option>
                  <option value="hybrid">Hybrid</option>
                </select>
              </div>
              <div class="form-group">
                <label for="electricity_cost">Electricity Cost ($/kWh)</label>
                <input
                  type="number"
                  id="electricity_cost"
                  name="electricity_cost"
                  class="form-control"
                  step="0.01"
                  min="0"
                />
              </div>
              <div class="form-group">
                <label for="diesel_cost">Diesel Cost ($/L)</label>
                <input
                  type="number"
                  id="diesel_cost"
                  name="diesel_cost"
                  class="form-control"
                  step="0.01"
                  min="0"
                />
              </div>
            </div>

            <!-- Step 4: Preferences -->
            <div class="survey-step" data-step="4">
              <h3>Preferences</h3>
              <div class="form-group">
                <label for="investment_weight"
                  >Initial Investment Importance (1-10)</label
                >
                <input
                  type="range"
                  id="investment_weight"
                  name="investment_weight"
                  class="form-control"
                  min="1"
                  max="10"
                  value="5"
                />
                <div class="range-labels">
                  <span>Low</span>
                  <span>High</span>
                </div>
              </div>
              <div class="form-group">
                <label for="operation_weight"
                  >Operation Cost Importance (1-10)</label
                >
                <input
                  type="range"
                  id="operation_weight"
                  name="operation_weight"
                  class="form-control"
                  min="1"
                  max="10"
                  value="5"
                />
                <div class="range-labels">
                  <span>Low</span>
                  <span>High</span>
                </div>
              </div>
            </div>

            <!-- Form Navigation -->
            <div class="form-actions">
              <button type="button" id="back-btn">Back</button>
              <button type="button" id="next-btn">Next</button>
              <button type="button" id="submit-btn">Submit</button>
            </div>
          </form>
        </div>

        <!-- Results Page -->
        <div id="results-page" class="page">
          <h2>Comparison Results</h2>

          <!-- Summary -->
          <div id="summary-container"></div>

          <!-- Comparison Chart -->
          <div id="comparison-chart"></div>

          <!-- Aerator Cards -->
          <h3>Detailed Comparison</h3>
          <div id="aerator-cards" class="aerator-cards"></div>

          <button class="cta-button" data-nav="survey">New Comparison</button>
        </div>
      </main>

      <footer>
        <p>
          © 2023-2025 AeraSync |
          <a href="#" style="color: white">Privacy Policy</a>
        </p>
      </footer>
    </div>

    <div id="error-toast"></div>
  </body>
</html>
